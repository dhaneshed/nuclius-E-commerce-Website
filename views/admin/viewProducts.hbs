<body>
  <section class="content-main">
    <div class="content-header">
      <div>
        <div class="row">
          <div class="col-md-10">
            <h2 class="content-title card-title">Products</h2>
          </div>
          <div class="col-md-2">
            <!-- Trigger the modal with a button -->
            <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Add
              Product</button>

            <!-- Modal -->
            <div id="myModal" class="modal fade" role="dialog">
              <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                  <div class="modal-header">
                    <h4 class="modal-title text-center">Add Product</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                  </div>
                  <div class="modal-body">
                    <div class="card mb-4">
                      <div class="card-body">
                        <form action="/admin/addProduct" method="POST" enctype="multipart/form-data">
                          <label for="Name"> Name</label>
                          <input type="text" name="Name" class="form-control" id="name" onblur="namecheck()" required />
                          <label id="nmlabel" for="name" style="display: none; color:red;">This field is
                            required</label>
                          <label id="nmlabel-01" for="name" style="display: none; color:red;">Name doesn't start
                            with a number</label>
                          <label id="nmlabel-02" for="name" style="display: none; color:red;">Name doesn't contain
                            special characters</label>

                          <label for="Category">Category</label>
                          <select class="form-select" name="Category" id="Category" aria-label="Default select example">
                            {{#each categories}}
                            <option value={{this.CategoryName}}>{{this.CategoryName}}</option>
                            {{/each}}


                          </select>
                          <br>
                          <label for="Price">Price</label>
                          <input type="number" name="Price" class="form-control" id="price" onblur="pricecheck()"
                            required />
                          <label id="prlabel" for="price" style="display: none; color:red;">This field is
                            required</label>
                          <label id="prlabel-01" for="price" style="display: none; color:red;">Price doesn't start
                            with an alphabet</label>
                          <label id="prlabel-02" for="price" style="display: none; color:red;">Price doesn't contain
                            special characters</label>


                          <label for="Description">Description</label>
                          <input type="text" name="Description" class="form-control" id="description"
                            onblur="descriptioncheck()" required />
                          <label id="dslabel" for="description" style="display: none; color:red;">This field is
                            required</label>
                          <label id="dslabel-01" for="description" style="display: none; color:red;">Description doesn't
                            start
                            with a number</label>
                          <label id="dslabel-02" for="description" style="display: none; color:red;">Description doesn't
                            contain
                            special characters</label>



                          <label for="Quantity">Quantity</label>
                          <input type="number" name="Quantity" class="form-control" id="quantity"
                            onblur="quantitycheck()" required />
                          <label id="qtlabel" for="quantity" style="display: none; color:red;">This field is
                            required</label>
                          <label id="qtlabel-01" for="quantity" style="display: none; color:red;">Price doesn't start
                            with an alphabet</label>
                          <label id="qtlabel-02" for="quantity" style="display: none; color:red;">Price doesn't contain
                            special characters</label>


                          <label for="Image">Image</label>
                          <img src="" alt="" style="width: 100px; height:auto  " id="imgView" class="pt-3">
                          <input type="file" class="form-control" name="file" onchange="viewImage(event)" required>


                          <img src="" alt="" style="width: 100px; height:auto  " id="imgView1" class="pt-3">
                          <input type="file" class="form-control" name="file" onchange="viewImage1(event)" required>


                          <img src="" alt="" style="width: 100px; height:auto  " id="imgView2" class="pt-3">
                          <input type="file" class="form-control" name="file" onchange="viewImage2(event)" required>


                          <img src="" alt="" style="width: 100px; height:auto  " id="imgView3" class="pt-3">
                          <input type="file" class="form-control" name="file" onchange="viewImage3(event)" required>




                          <button type="submit" class="btn btn-success mt-4">Submit</button>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
              </div>

            </div>

          </div>
        </div>

      </div>
      <p></p>
    </div>
    <p></p>
    </div>
    </div>
    <div class="card mb-4">
      <!-- card-header end// -->
      <div class="card-body">
        <form>
          <input type="text" placeholder="Search..." name="search">
          <input type="submit" value="Search">

        </form>


        <div class="table-responsive">
          <div>
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>No:</th>
                  <th scope="col">Product Name</th>
                  <th scope="col">Price</th>
                  <th scope="col">Category</th>
                  <th scope="col">Description</th>
                  <th scope="col">Quantity</th>
                  <th scope="col">Image</th>
                  <th scope="col" class="text-end">Options</th>
                </tr>
              </thead>
              <tbody>
                {{#each products}}
                <tr>
                  <td>{{this.count}}</td>
                  <td><b>{{this.Name}}</b></td>
                  <td>â‚¹{{this.Price}}</td>
                  <td>{{this.Category}}</td>
                  <td>{{this.Description}}</span></td>
                  <td>{{this.Quantity}}</td>
                  <td><img class="zoomable-image" style="width:50px;height:50px;" src="/uploads/{{this.images.[0]}}"
                      alt="">
                  </td>
                  <td>

                    <a href="/admin/editProduct/{{this._id}}" class="btn btn-primary">Edit</a>
                    <a href="/admin/deleteProduct/{{this._id}}" class="btn btn-danger"
                      onclick=" return confirm('Do you want to delete {{this.Name}}?Are you sure?')">Delete</a>


                  </td>
                </tr>
                {{/each}}



              </tbody>
            </table>
          </div>

          <br>
          <br>




          <br>
          <br>
        </div> <!-- table-responsive //end -->
      </div> <!-- card-body end// -->
      <div style=" margin-left:45%;">
        <nav aria-label="Page navigation example">
          <ul class="pagination">

            {{#for 1 7 1}}
            <li class="page-item"><a class="page-link" href="?page={{this}}">{{this}}</a></li>

            {{/for}}
          </ul>
        </nav>

      </div>
    </div> <!-- card end// -->
  </section> <!-- content-main end// -->
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<script type="text/javascript">
  function viewImage(event) {
    document.getElementById('imgView').src = event.target = URL.createObjectURL(event.target.files[0])
  }
  function viewImage1(event) {
    document.getElementById('imgView1').src = event.target = URL.createObjectURL(event.target.files[0])
  }
  function viewImage2(event) {
    document.getElementById('imgView2').src = event.target = URL.createObjectURL(event.target.files[0])
  }
  function viewImage3(event) {
    document.getElementById('imgView3').src = event.target = URL.createObjectURL(event.target.files[0])
  }



</script>